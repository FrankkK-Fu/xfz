function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:"true",ak:"85102afa4256482986d50c8b4e4e2233"});a.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t},success:function(e){if(200===e.code){var t=e.data.token;a.setToken(o.file,t)}else alert("token错误！")},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwidmlkZW8iLCJzdWNjZXNzIiwicmVzdWx0IiwidG9rZW4iLCJzZXRUb2tlbiIsImFsZXJ0IiwiZmFpbCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGdCQUlUQSxhQUFhQyxVQUFVQyxXQUFhLFdBQ2hDLElBQUlDLEVBQWdCQyxFQUFFLGVBQ2xCQyxFQUFZRixFQUFjRyxLQUFLLGtCQUMvQkMsRUFBWUosRUFBY0csS0FBSyxrQkFHL0JFLEVBQVNDLFlBQVksbUJBQW1CQyxNQUFNLENBQzlDQyxNQUFPLE9BQ1BDLE9BQVEsT0FDUkMsS0FBTVIsRUFDTlMsTUFBT1AsRUFDUFEsV0FBVyxFQUNYQyxXQUFZLFVBQ1pDLFFBQVEsRUFDUkMsT0FBUSxJQUNSQyxVQUFVLEVBQ1ZDLGFBQWMsT0FFZEMsR0FBSSxxQ0FHUmIsRUFBT2MsR0FBRyxhQUFjLFNBQVVDLEdBQ3pCLE9BQU9DLEtBQUtELEVBQUVWLE9BR25CWSxRQUFRQyxJQUFJLENBRVJDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSkMsTUFBU3hCLEdBRWJ5QixRQUFXLFNBQVVDLEdBQ2pCLEdBQXVCLE1BQW5CQSxFQUFhLEtBQVcsQ0FDeEIsSUFBSUMsRUFBUUQsRUFBYSxLQUFTLE1BQ2xDdkIsRUFBT3lCLFNBQVNWLEVBQUVWLEtBQU1tQixRQUV4QkUsTUFBTSxhQUdkQyxLQUFRLFNBQVVDLEdBQ2RDLFFBQVFDLElBQUlGLFNBTTVCcEMsYUFBYUMsVUFBVXNDLElBQU0sV0FDekJDLEtBQUt0QyxjQUdURSxFQUFFLFlBQ29CLElBQUlKLGNBQ1Z1QyIsImZpbGUiOiJjb3Vyc2VfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENvdXJzZURldGFpbCgpIHtcbiAgICBcbn1cblxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5pbml0UGxheWVyID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgdmlkZW9JbmZvU3BhbiA9ICQoJyN2aWRlby1pbmZvJyk7XG4gICAgdmFyIHZpZGVvX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cihcImRhdGEtdmlkZW8tdXJsXCIpO1xuICAgIHZhciBjb3Zlcl91cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLWNvdmVyLXVybFwiKTtcblxuXG4gICAgdmFyIHBsYXllciA9IGN5YmVycGxheWVyKFwicGxheWVyY29udGFpbmVyXCIpLnNldHVwKHtcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIGZpbGU6IHZpZGVvX3VybCxcbiAgICAgICAgaW1hZ2U6IGNvdmVyX3VybCxcbiAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcbiAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXG4gICAgICAgIHJlcGVhdDogZmFsc2UsXG4gICAgICAgIHZvbHVtZTogMTAwLFxuICAgICAgICBjb250cm9sczogdHJ1ZSxcbiAgICAgICAgdG9rZW5FbmNyeXB0OiBcInRydWVcIixcbiAgICAgICAgLy8gQWNjZXNzS2V5XG4gICAgICAgIGFrOiAnODUxMDJhZmE0MjU2NDgyOTg2ZDUwYzhiNGU0ZTIyMzMnXG4gICAgfSk7XG5cbiAgICBwbGF5ZXIub24oJ2JlZm9yZVBsYXknLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIS9tM3U4Ly50ZXN0KGUuZmlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB4ZnphamF4LmdldCh7XG4gICAgICAgICAgICAvLyDojrflj5Z0b2tlbueahHVybFxuICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxuICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgJ3ZpZGVvJzogdmlkZW9fdXJsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRUb2tlbihlLmZpbGUsIHRva2VuKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgndG9rZW7plJnor6/vvIEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pbml0UGxheWVyKCk7XG59O1xuXG4kKGZ1bmN0aW9uICgpIHtcbiAgIHZhciBjb3Vyc2VEZXRhaWwgPSBuZXcgQ291cnNlRGV0YWlsKCk7XG4gICBjb3Vyc2VEZXRhaWwucnVuKCk7XG59KTtcbiJdfQ==
